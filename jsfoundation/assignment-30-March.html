<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
    <!-- JavaScript Bundle with Popper -->
    <link rel="stylesheet" href="../usingbootstrap/node_modules/bootstrap/dist/css/bootstrap.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script src="./functionobjects/uigenerator.js"></script>
    <script src="./functionobjects/closefunction.js"></script>


    <title>Document</title>
    <!-- <script src="uigenerator copy 2.js"></script> -->
    <script>
        window.onload = function () {
        
            var Products = [
                { EmployeeID: 1, EmployeeName: "Vanshika", deptName: "CSE", Designation: "Student", Salary: 20 },
                { EmployeeID: 2, EmployeeName: "Pulkit", deptName: "Manager", Designation: "Student", Salary: 20 },
                { EmployeeID: 3, EmployeeName: "Suprotim", deptName: "Director", Designation: "Student", Salary: 20 },
                { EmployeeID: 4, EmployeeName: "Nandu", deptName: "Leader", Designation: "Student", Salary: 20 },
                { EmployeeID: 5, EmployeeName: "Jaywant", deptName: "CEO", Designation: "Student", Salary: 20 },
                { EmployeeID: 6, EmployeeName: "Vivek", deptName: "Director", Designation: "Student", Salary: 20 },
                { EmployeeID: 7, EmployeeName: "Abhay", deptName: "Leader", Designation: "Student", Salary: 20 },
                { EmployeeID: 8, EmployeeName: "Vikas", deptName: "Director", Designation: "Student", Salary: 20 },
                { EmployeeID: 9, EmployeeName: "Amit", deptName: "Manager", Designation: "Student", Salary: 20 },
                { EmployeeID: 10, EmployeeName: "Anil", deptName: "CEO", Designation: "Student", Salary: 20 },
                { EmployeeID: 11, EmployeeName: "Dinesh", deptName: "deptName", Designation: "Student", Salary: 20 },
                { EmployeeID: 12, EmployeeName: "Sachin", deptName: "Leader", Designation: "Student", Salary: 20 },
                { EmployeeID: 13, EmployeeName: "Sumit", deptName: "deptName", Designation: "Student", Salary: 20 },
                { EmployeeID: 14, EmployeeName: "Pravin", deptName: "CEO", Designation: "Student", Salary: 20 },
                { EmployeeID: 15, EmployeeName: "Abhijit", deptName: "deptName", Designation: "Student", Salary: 20 },
                { EmployeeID: 16, EmployeeName: "Deepak", deptName: "Manager", Designation: "Student", Salary: 20 },
                { EmployeeID: 17, EmployeeName: "Manish", deptName: "CEO", Designation: "Student", Salary: 20 },
                { EmployeeID: 18, EmployeeName: "Karan", deptName: "CEO", Designation: "Student", Salary: 20 },
                { EmployeeID: 19, EmployeeName: "Daivik", deptName: "Manager", Designation: "Student", Salary: 20 },
                { EmployeeID: 20, EmployeeName: "Anshika", deptName: "deptName", Designation: "Student", Salary: 20 },
                { EmployeeID: 21, EmployeeName: "Abhay", deptName: "Leader", Designation: "Student", Salary: 20 },
                { EmployeeID: 22, EmployeeName: "Subodh", deptName: "CEO", Designation: "Student", Salary: 20 },
                { EmployeeID: 23, EmployeeName: "Amit", deptName: "Manager", Designation: "Student", Salary: 20 },
                { EmployeeID: 24, EmployeeName: "Jaywant", deptName: "deptName", Designation: "Student", Salary: 20 },
                { EmployeeID: 25, EmployeeName: "Vikas", deptName: "Leader", Designation: "Student", Salary: 20 },
                { EmployeeID: 26, EmployeeName: "Amit", deptName: "Manager", Designation: "Student", Salary: 20 },
                { EmployeeID: 27, EmployeeName: "Abhijit", deptName: "deptName", Designation: "Student", Salary: 20 },
                { EmployeeID: 28, EmployeeName: "Sumit", deptName: "Leader", Designation: "Student", Salary: 20 },
                { EmployeeID: 29, EmployeeName: "Manish", deptName: "Manager", Designation: "Student", Salary: 20 },
                { EmployeeID: 30, EmployeeName: "Subodh", deptName: "Leader", Designation: "Student", Salary: 20 },

            ]
            //dropdown values
            var dropdownValues = [5, 10, 15, 20]
            var uiGenerator1 = new UIGenerator(dropdownValues);
            document.getElementById('dropdownValues').innerHTML = uiGenerator1.select();


            var uiGenerator = new UIGenerator1(Products);
            document.getElementById('tableProducts').innerHTML = uiGenerator.select();
            var ul = document.querySelector('pagination')
            var dropdownValues = document.querySelector('dropdownValues')
            var select = document.querySelector('select')
            var option = select.getElementsByTagName('option')

            var tbody = document.querySelector('tbody')
            var tr = tbody.getElementsByTagName('tr')

            console.log("tablee", option);
            let arrayTr = [];
            for (let i = 0; i < tr.length; i++) {
                arrayTr.push(tr[i]);
            }
             select.onchange=rowCount;
             function rowCount(e){
              //   let neil=ul.querySelectorAll('.list');
                // console.log("neill",neil)
                 //neil.forEach(n=>n.remove())
                 let limit=parseInt(e.target.value);
                 displayPage(limit)

             }
             function displayPage(limit){
                 tbody.innerHTML='';
                 for (let i = 0; i < limit; i++) {
                     tbody.appendChild(arrayTr[i])
            }
            buttonGenerator(limit)
             }
          //  displayPage(4)
             function buttonGenerator(limit){
                 const nofTr=arrayTr.length;
                if(nofTr<=limit){
                    ul.style.display='none'
                }
              else{
                  console.log("hey",nofTr);
                    ul.style.display='flex'
                    const noOfPage=Math.ceil(nofTr/limit)
                    console.log("hey",noOfPage);

                    for(i=1;i<=noOfPage;i++){
                        let li=document.createElement('li');
                        li.className="list";
                        let a=document.createElement('a');
                        a.href="#";
                        a.setAttribute('data-page',i);
                        li.appendChild(a);
                        a.innerText=i;
                        ul.insertBefore(li,ul.querySelector('.next'));
                        console.log("ull",ul);

                    }
                    // a.onclick=e=>{
                    //     let x=e.target.getAttribute('data-page');
                    //     tbody.innerHTML='';
                    //     let start=limit *x;
                    //     let end=start+limit;
                    //     let page=arrayTr.slice(start,end);
                    //     for(let i=0;i<page.length;i++){
                    //         let item=page[i];
                    //         tbody.appendChild(item);
                    //     }
                    // }

                    
                }
             }
         }
    </script>
</head>

<body>
    <h1 class="text-center">Assignment 30<sup>th</sup> March</h1>
   <div class="text-center"> Items per page</div>
    <div class="text-center" id="dropdownValues"></div><br>

    <div id="tableProducts"></div>
    <ul class="pagination">
        <li class="prev">
            <a id="prev" href="#">&#139</a>
        </li>
        <!-- <li class="page-item">
            <a class="page-link" href="#">1</a>
        </li>
        <li class="page-item">
            <a class="page-link" href="#">2</a>
        </li>
        <li class="page-item">
            <a class="page-link" href="#">3</a>
        </li>
        <li class="page-item active">
            <a class="page-link" href="#">4</a>
        </li>
        <li class="page-item disabled">
            <a class="page-link" href="#">5</a>
        </li>
        <li class="page-item">
            <a class="page-link" href="#">6</a>
        </li>
        <li class="page-item">
            <a class="page-link" href="#">7</a>
        </li>
        <li class="page-item">
            <a class="page-link" href="#">8</a>
        </li> -->
        <li class="next">
            <a id="next" href="#">&#155</a>
        </li>
    </ul>

</body>

</html>